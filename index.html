<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Caesar Clue</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Inter:wght@300;400&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Inter', sans-serif;
      background: linear-gradient(180deg, #F3E5F5 0%, #fff 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 30px 20px;
      box-sizing: border-box;
      color: #2c3e50;
      scroll-behavior: smooth;
      overflow-x: hidden;
    }

    .spotify-icon, .spotify-lock {
      width: 60px;
      height: 60px;
      cursor: pointer;
      margin-bottom: 25px;
      transition: transform 0.3s ease;
    }

    .spotify-icon:hover, .spotify-lock:hover {
      transform: scale(1.1);
    }

    .message-box {
      background: white;
      border-radius: 20px;
      padding: 20px;
      max-width: 700px;
      width: 100%;
      box-shadow: 0 6px 20px rgba(0,0,0,0.1);
      line-height: 1.7;
      color: #2c3e50;
    }

    .message-box p {
      margin-bottom: 15px;
    }

    .highlight {
      color: #ff4d6d;
      font-weight: bold;
      cursor: pointer;
      text-decoration: underline;
    }

    /* Popup styling */
    .popup {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,0.5);
      z-index: 1000;
      animation: fadeIn 0.3s ease;
    }

    .popup-content {
      background: white;
      padding: 25px 20px;
      border-radius: 15px;
      text-align: center;
      max-width: 300px;
      width: 80%;
      box-shadow: 0 6px 20px rgba(0,0,0,0.2);
      animation: popUp 0.4s ease;
    }

    .popup-content input {
      width: 80%;
      padding: 8px;
      margin-top: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 1em;
    }

    .popup-content button {
      margin-top: 15px;
      padding: 8px 15px;
      border-radius: 8px;
      border: none;
      background-color: #255dca;
      color: white;
      font-size: 1em;
      cursor: pointer;
    }

    .popup-content button:hover {
      background-color: #1a44a2;
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes popUp {
      0% { transform: scale(0.8); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }

    /* Confetti / hearts */
    .heart {
      position: fixed;
      font-size: 24px;
      color: #ff4d6d;
      animation: fall 4s linear forwards;
      pointer-events: none;
      z-index: 9999;
    }

    @keyframes fall {
      0% { transform: translateY(-50px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
    }
  </style>
</head>
<body>

  <!-- Spotify Icons -->
  <div style="position: relative; display: flex; gap: 15px;">
    <img src="spotify.png" alt="Spotify Icon" class="spotify-icon" id="spotifyLink">
    <img src="Spotifytruelock.png" alt="Spotify Lock Icon" class="spotify-lock" id="spotifyLock" style="display:none;">
  </div>

  <!-- Message -->
  <div class="message-box">
    <p>When we were just falling in love, I used to listen to songs and wonder what it would feel like to have you beside me ‚Äî to live those lyrics instead of just dreaming them.</p>

    <p>Now those same songs sound different‚Ä¶ because I don‚Äôt have to imagine anymore. Somehow, life found its way ‚Äî and it led me straight to you. üíû</p>

    <p>So, I went back to the songs that once held my wishes and turned them into something special ‚Äî a playlist, made just for you.</p>

    <p>I actually had so much more planned for this little adventure, but due to some <em>unforeseen technical drama</em> (aka my laptop charger deciding to retire early üòÖ), I had to cut short a few parts of the treasure hunt.</p>

    <p>But the heart of it is still here ‚Äî and so is your final clue.</p>

    <p style="margin-top: 20px; font-weight: bold;">There‚Äôs more to the playlist than meets the ear.</p>

    <p style="margin-top: 10px; font-style: italic;">Above these words plays a small symphony of clues.<br>
    Follow the first notes, the first letters‚Ä¶ they‚Äôll lead you home to the key that opens the <span class="highlight" id="lockWord">lock</span>.</p>

    <p style="margin-top: 20px;">I know it looks like just another playlist ‚Äî but you know me, I couldn‚Äôt resist hiding something. üòè<br>
    Pay attention to the songs. They‚Äôve been trying to tell you something all along.</p>
  </div>

  <!-- Key Input Popup -->
  <div class="popup" id="keyPopup">
    <div class="popup-content">
      <p>Enter the key:</p>
      <input type="text" id="keyInput" placeholder="Type the key here">
      <button id="submitKey">Submit</button>
    </div>
  </div>

  <!-- Closing Message Popup -->
  <div class="popup" id="closingPopup">
    <div class="popup-content">
      <p>You found the key! üéâ</p>
      <p>I know it‚Äôs not much, but I hope you enjoyed this little treasure hunt. It was made with all my heart üíñ</p>
      <p>Happy Birthday, my love! ü•∞</p>
      <button id="closeClosingPopup">Close</button>
    </div>
  </div>

  <script>
    const spotifyLink = document.getElementById('spotifyLink');
    spotifyLink.addEventListener('click', () => {
      window.location.href = 'https://spotify.link/R1dwClDMAXb';
    });

    const lockWord = document.getElementById('lockWord');
    const spotifyLock = document.getElementById('spotifyLock');
    const keyPopup = document.getElementById('keyPopup');
    const keyInput = document.getElementById('keyInput');
    const submitKey = document.getElementById('submitKey');
    const closingPopup = document.getElementById('closingPopup');
    const closeClosingPopup = document.getElementById('closeClosingPopup');

    // Tap "lock"
    lockWord.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
      spotifyLock.style.display = 'inline';
    });

    // Tap Spotify lock icon
    spotifyLock.addEventListener('click', () => {
      keyPopup.style.display = 'flex';
      keyInput.value = '';
      keyInput.focus();
    });

    // Submit key
    submitKey.addEventListener('click', () => {
      if(keyInput.value.toLowerCase() === 'love') {
        spotifyLock.src = 'Spotifytrue.png';
        keyPopup.style.display = 'none';
        closingPopup.style.display = 'flex';
        triggerHearts(30); // launch confetti hearts
      } else {
        alert("Hmm, that‚Äôs not quite right. Try again!");
      }
    });

    // Close closing popup
    closeClosingPopup.addEventListener('click', () => {
      closingPopup.style.display = 'none';
    });

    // Function to trigger falling hearts
    function triggerHearts(num) {
      for(let i = 0; i < num; i++){
        const heart = document.createElement('div');
        heart.classList.add('heart');
        heart.textContent = 'üíñ';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
        heart.style.animationDuration = (Math.random() * 3 + 3) + 's';
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 4000);
      }
    }

  </script>

</body>
</html>
      position: relative;
    }

    h1 {
      color: black;
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      font-size: 2.5em;
      text-shadow: 1px 1px 4px rgba(255, 255, 255, 0.6);
      margin: 0;
      transition: transform 0.2s ease;
    }

    img {
      width: 100px;
      height: auto;
      margin-top: 20px;
      cursor: pointer;
      transition: transform 0.1s ease;
    }

    .pressed {
      transform: scale(0.85);
    }

    /* Popup styles */
    #popup {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(255, 255, 255, 0.95);
  padding: 20px; /* slight padding */
  border-radius: 15px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
  font-family: 'Playfair Display', serif;
  font-weight: 700;
  font-size: 1.5em;
  color: black;
  opacity: 0;
  text-align: center;
  z-index: 1000;
  pointer-events: none;
  transition: opacity 1s ease;
  width: calc(100% - 40px); /* almost full width, 20px padding each side */
  max-width: 600px; /* optional: limit max width on large screens */
  box-sizing: border-box; /* ensures padding doesn't add to width */
}


    #popup.show {
      opacity: 1;
    }

    /* Love letter icon */
    #loveLetter {
      position: fixed;
      width: 80px;
      height: auto;
      bottom: 20px;
      right: 20px;
      opacity: 0;
      transform: translate(50px, 50px);
      transition: all 1s ease;
      z-index: 1001;
      cursor: pointer;
    }

    #loveLetter.show {
      opacity: 1;
      transform: translate(0, 0);
    }
  </style>
</head>
<body>
  <h1 class="animate__animated animate__fadeIn animate__zoomIn" id="birthdayText">Happy Birthday Babee</h1>
  <img src="gift.png" alt="Gift Icon" class="animate__animated animate__fadeInUp animate__delay-1s" id="gift">

  <!-- In-page popup -->
  <div id="popup"></div>

  <!-- Love Letter Icon -->
  <img src="love_letter_icon.png" alt="Love Letter" id="loveLetter">

  <!-- Canvas Confetti Script -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>

  <script>
    const gift = document.getElementById('gift');
    const birthdayText = document.getElementById('birthdayText');
    const popup = document.getElementById('popup');
    const loveLetter = document.getElementById('loveLetter');

    let scale = 1;
    let tapCount = 0;
    let disabled = false;

    const messages = {
      1: "Well, well‚Ä¶ look who‚Äôs eager! üëÄ Can you handle what‚Äôs coming?",
      2: "Not gonna lie, halfway through I almost gave up and just sent cake emojis üéÇüòÇ",
      3: "Okay okay‚Ä¶ Happy Birthday, my favourite human üíñ",
      4: "Slow down‚Ä¶ the page isn‚Äôt ready for your level of cuteness üò≥",
      5: "You‚Äôre tapping like you‚Äôre trying to unlock a secret level üòú",
      6: "That‚Äôs it‚Ä¶ really‚Ä¶ you can stop tapping now‚Ä¶ or not üòâ",
      7: "Wow, you‚Äôre still here?",
      8: "You‚Äôre relentless‚Ä¶ but also kind of adorable üòè",
      9: "Was gonna hide this forever‚Ä¶ but your tapping skills are dangerously impressive üòèüíñ",
      10: "Here‚Äôs the final masterpiece, made with love, caffeine, and just a hint of madness üòòüíå"
    };

    const bonusMessages = [
      "You've officially unlocked: ‚ÄúProfessional Tapper of Things That Say Stop Tapping‚Äù üèÜ",
      "Babe‚Ä¶ are you trying to break through to another dimension? üåå",
      "Stoppp you‚Äôre making the code cry üò≠",
      "The gift box just sent a resignation letter. One more tap and it‚Äôs gone üéÅüí• All done‚Ä¶ the gift box officially quit its job!"
    ];

    let bonusIndex = 0;

    gift.addEventListener('click', () => {
      if (disabled) return;
      tapCount++;
      disabled = true;

      gift.classList.add('pressed');
      setTimeout(() => gift.classList.remove('pressed'), 150);

      // Confetti logic
      if (tapCount < 10) {
        confetti({ particleCount: 200, spread: 90, startVelocity: 50, origin: { y: 0.7 } });
        setTimeout(() => confetti({ particleCount: 100, spread: 70, origin: { y: 0.7 } }), 300);
        setTimeout(() => confetti({ particleCount: 80, spread: 100, origin: { y: 0.7 } }), 600);
      } else if (tapCount >= 10 && tapCount < 14) {
        confetti({ particleCount: 80, spread: 70, startVelocity: 40, origin: { y: 0.7 } });
        setTimeout(() => confetti({ particleCount: 50, spread: 50, origin: { y: 0.7 } }), 200);
      }
      // No confetti on last bonus tap (tap 14)

      if (tapCount <= 10) {
        scale += 0.1;
        birthdayText.style.transform = `scale(${scale})`;
      }

      let currentMessage = "";
      if (tapCount <= 10 && messages[tapCount]) {
        currentMessage = messages[tapCount];
      } else if (tapCount > 10 && bonusIndex < bonusMessages.length) {
        currentMessage = bonusMessages[bonusIndex];
        bonusIndex++;
      } else {
        currentMessage = "Alright‚Ä¶ now the gift box is REALLY done üòÜ";
      }

      popup.textContent = currentMessage;
      popup.classList.add('show');

      setTimeout(() => {
        popup.classList.remove('show');
        disabled = false;

        if (tapCount === 10) {
          loveLetter.classList.add('show');
        }

      }, 4000);
    });

    // Love letter click behavior with bounce
    loveLetter.addEventListener('click', () => {
      loveLetter.style.transition = "transform 0.2s ease";
      loveLetter.style.transform = "scale(1.2)";
      setTimeout(() => {
        loveLetter.style.transform = "scale(1)";
        setTimeout(() => {
          window.location.href = 'love_letter.html';
        }, 100);
      }, 200);
    });
  </script>
</body>
</html>


