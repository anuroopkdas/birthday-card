<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Love Letter Boarding Pass</title>

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Great+Vibes&display=swap" rel="stylesheet">

  <style>
    html,
    body {
      margin: 0;
      padding: 0;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      font-family: 'Playfair Display', serif;
      background:
        radial-gradient(ellipse 120% 80% at 70% 20%, rgba(255, 20, 147, 0.15), transparent 50%),
        radial-gradient(ellipse 100% 60% at 30% 10%, rgba(0, 255, 255, 0.12), transparent 60%),
        radial-gradient(ellipse 90% 70% at 50% 0%, rgba(138, 43, 226, 0.18), transparent 65%),
        radial-gradient(ellipse 110% 50% at 80% 30%, rgba(255, 215, 0, 0.08), transparent 40%),
        #000000;
      background-repeat: no-repeat;
      background-size: cover;
      color: white;
    }

    /* Letter container */
    .letter-container {
      display: flex;
      justify-content: center;
      padding: 40px 20px 0 20px; /* bottom padding handled by spacer */
      box-sizing: border-box;
      height: 100%;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }

    .letter {
      max-width: 600px;
      line-height: 1.9;
      font-size: 1.15em;
    }

    .letter .greeting {
      font-family: 'Great Vibes', cursive;
      font-size: 2.6em;
      margin-bottom: 20px;
      color: white;
    }

    .line {
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 1s ease, transform 1s ease;
      margin-bottom: 20px;
    }

    .line.show {
      opacity: 1;
      transform: translateY(0);
    }

    /* Spacer to prevent last line from being hidden by boarding pass */
    .line-spacer {
      height: 140px; /* slightly more than boarding pass height */
      flex-shrink: 0;
    }

    /* Boarding pass */
    #boardingPass {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 100px;
      opacity: 0;
      transform: translateY(50px) scale(0.5);
      transition: all 1s ease-out;
      z-index: 10;
      cursor: pointer;
    }

    #boardingPass.show {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    #boardingPass.shrink {
      transform: scale(0);
      opacity: 0;
      transition: all 0.8s ease;
    }

    /* Popup card */
    #cardPopup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.5);
      background: white;
      color: #255DCA;
      padding: 30px 20px;
      border-radius: 20px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
      text-align: center;
      opacity: 0;
      transition: all 0.8s ease;
      z-index: 20;
      display: flex;
      flex-direction: column;
      align-items: center;
      max-width: 90vw;
      max-height: 90vh;
      overflow-y: auto;
      box-sizing: border-box;
    }

    #cardPopup.show {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
    }

    #cardPopup img {
      width: 80%;
      max-width: 250px;
      margin-bottom: 15px;
    }

    #cardPopup p {
      font-size: 1.2em;
      font-weight: bold;
      margin: 0;
    }

    /* Question and buttons */
    #cardPopup .question {
      font-size: 1.3em;
      margin: 15px 0 10px 0;
      font-weight: bold;
      color: #255DCA;
    }

    #cardPopup .buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-top: 10px;
      justify-content: center;
    }

    #cardPopup .btn {
      padding: 8px 16px;
      border-radius: 12px;
      border: none;
      font-weight: bold;
      font-size: 1em;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    #cardPopup .btn:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    #cardPopup .btn.green {
      background-color: #4CAF50;
      color: white;
    }

    #cardPopup .btn.blue {
      background-color: #2196F3;
      color: white;
    }

    /* Responsive boarding pass */
    @media (max-width: 400px) {
      #boardingPass {
        width: 70px;
        bottom: 15px;
        right: 15px;
      }
    }
  </style>
</head>

<body>

  <div class="letter-container" id="letterContainer">
    <div class="letter" id="letter">
      <div class="greeting line">Hey you, birthday girl.</div>

      <p class="line">You thought you‚Äôd just get a ‚Äúhappy birthday‚Äù?<br>That‚Äôs cute. Almost as cute as you thinking I could ever keep it short when it comes to you. üíã</p>

      <p class="line">I‚Äôve been staring at this screen for way too long, trying to fit everything I feel into words ... and somehow, it still doesn‚Äôt feel like enough.<br>Somehow, you make life feel exciting, even when we‚Äôre doing absolutely nothing ... and I love it.</p>

      <p class="line">So‚Ä¶ I made you something.<br>And before you start thinking ‚Äúaww, how thoughtful,‚Äù just know ... I may have gone way overboard.<br>But you‚Äôre worth it, obviously.</p>

      <p class="line">You somehow manage to drive me insane and make me smile at the same time.<br>Like, how is it possible to get lost with Google Maps literally guiding you step by step?<br>It‚Äôs impressive‚Ä¶ and infuriatingly adorable.</p>

      <p class="line">You‚Äôre this hilarious contradiction ... smart enough to ace anything, but somehow still clueless about the simplest things.<br>Ice cream over bus fare? 10/10 decision-making. I respect the priorities.<br>
        I swear, sometimes I think the universe sent you just to balance me out ... my overthinking running into your boundless optimism, my quiet self meeting your contagious energy. üç¶üòÜ</p>

      <p class="line">You somehow make me believe in things I thought I‚Äôd stopped believing in.<br>Being around you feels like finally finding a home I didn‚Äôt know I was searching for.<br>You remind me that not everything needs a reason to be beautiful ... sometimes, it just is.</p>

      <p class="line">There was a time when my daydreams were full of places I longed to explore‚Ä¶ but I never imagined sharing them with anyone.<br>But after you, every time I close my eyes, it‚Äôs not just the destinations I see ... it‚Äôs you and me, hand in hand, wandering through it all.</p>

      <p class="line">Then it hit me‚Ä¶ why just dream about it?<br>Picture it: us, exploring the world together, me probably getting frustrated while you somehow still manage to get lost‚Ä¶ again. üòÜ<br>Honestly, I can‚Äôt think of anyone else I‚Äôd rather get lost with.</p>

      <p class="line">Don‚Äôt just sit there reading ... hop on! Come along for the ride, because the best stories are the ones we make ourselves.</p>

      <!-- Spacer to keep last line above boarding pass -->
      <div class="line-spacer"></div>
    </div>
  </div>

  <!-- Boarding pass icon -->
  <img id="boardingPass" src="boarding_pass.png" alt="Boarding Pass">

  <!-- Card popup -->
  <div id="cardPopup">
    <img src="boarding_pass.png" alt="Boarding Pass">
    <p>Boarding Pass Acquired</p>
    <p class="question">Ready to fly, love?</p>
    <div class="buttons">
      <button class="btn green">Yesshh</button>
      <button class="btn blue">Yes</button>
    </div>
  </div>

  <script>
    // Smooth line reveal
    const lines = document.querySelectorAll('.line');
    let delay = 500;
    lines.forEach((line, index) => {
      setTimeout(() => {
        line.classList.add('show');
      }, delay * index);
    });

    const bp = document.getElementById('boardingPass');
    const card = document.getElementById('cardPopup');
    const container = document.getElementById('letterContainer');
    let hasShown = false;
    let scrollTimeout;

    // Show boarding pass 5 seconds after user scrolls to bottom
    container.addEventListener('scroll', () => {
      if (hasShown) return;
      clearTimeout(scrollTimeout);

      const nearBottom =
        container.scrollTop + container.clientHeight >= container.scrollHeight - 10;

      if (nearBottom) {
        scrollTimeout = setTimeout(() => {
          bp.classList.add('show');
          hasShown = true;
        }, 5000);
      }
    });

    // Boarding pass click ‚Üí shrink + show card
    bp.addEventListener('click', () => {
      bp.classList.add('shrink');
      setTimeout(() => {
        card.classList.add('show');
      }, 500);
    });

    // Button click interactions
    const greenBtn = document.querySelector('.btn.green');
    const blueBtn = document.querySelector('.btn.blue');

    function closeCardAndGo() {
      card.classList.remove('show');
      card.style.transform = 'translate(-50%, -50%) scale(0.5)';
      card.style.opacity = '0';

      setTimeout(() => {
        window.location.href = 'journey.html';
      }, 800);
    }

    greenBtn.addEventListener('click', closeCardAndGo);
    blueBtn.addEventListener('click', closeCardAndGo);
  </script>

</body>

</html>
